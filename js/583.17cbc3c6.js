"use strict";(self["webpackChunkcartoon"]=self["webpackChunkcartoon"]||[]).push([[583],{4583:function(t,a,o){o.r(a),o.d(a,{default:function(){return n}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"bookrack"},[t.HasBookrackData?a("van-checkbox-group",{ref:"checkboxGroup",model:{value:t.result,callback:function(a){t.result=a},expression:"result"}},[a("van-nav-bar",{attrs:{title:"追漫","right-text":t.isShowSelectBox?"取消编辑":"编辑"},on:{"click-right":t.onCompile}}),a("div",{staticClass:"content-box"},t._l(t.bookrackData,(function(o,e){return a("div",{key:e,staticClass:"rack-item",on:{click:function(a){!t.isShowSelectBox&&t.goIndetail(o.id)}}},[a("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelectBox,expression:"isShowSelectBox"}],attrs:{name:o.id}}),a("div",{staticClass:"img-box"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.vertical_cover,expression:"bookrackItem.vertical_cover"}]})]),a("div",{staticClass:"title-box"},[a("div",{staticClass:"title"},[t._v(t._s(o.title))]),0===o.is_finish?a("div",{staticClass:"text"},[t._v("更新至"+t._s(o.total)+"话")]):a("div",{staticClass:"text"},[t._v("[完结] 共"+t._s(o.total))])])],1)})),0)],1):a("div",{staticClass:"HasBookrackData"},[a("div",[a("van-nav-bar",{attrs:{title:"追漫","left-arrow":""}})],1),a("div",{staticClass:"img-box"},[a("img",{attrs:{src:o(1654),alt:""}}),a("div",[t._v("什么都没有 ＞︿＜")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelectBox,expression:"isShowSelectBox"}],staticClass:"select-box"},[a("van-button",{attrs:{type:"info"},on:{click:t.toggleAll}},[t._v("反选")]),a("van-button",{staticClass:"remove",attrs:{type:"danger"},on:{click:t.remove}},[t._v("删除")]),a("van-button",{attrs:{type:"primary"},on:{click:t.checkAll}},[t._v("全选")])],1)],1)},s=[],i=(o(7658),{name:"Bookrack",data(){return{bookrackData:[],isShowSelectBox:!1,result:[],HasBookrackData:!1}},created(){let t=localStorage;if(void 0===t.BookrackData)localStorage.setItem("BookrackData","[]"),this.HasBookrackData=!1;else{let t=JSON.parse(localStorage.getItem("BookrackData"));this.$root.bookData=Array.from(new Set(t)),this.splitArr(t),0==t.length?this.HasBookrackData=!1:this.HasBookrackData=!0}},methods:{checkAll(){this.$refs.checkboxGroup.toggleAll(!0)},toggleAll(){this.$refs.checkboxGroup.toggleAll()},remove(){for(let t=0;t<this.result.length;t++)this.$root.bookData.splice(this.$root.bookData.indexOf(this.result[t]),1);localStorage.setItem("BookrackData",JSON.stringify(this.$root.bookData)),this.$router.go(0)},onCompile(){this.isShowSelectBox=!this.isShowSelectBox},splitArr(t){for(let a=0;a<t.length;a++)this.getBookrack(t[a])},getBookrack(t){this.axios({method:"get",url:"/ComicDetail",params:{comicId:t}}).then((t=>{this.bookrackData.push(t.data.data)})).catch((t=>{}))},goIndetail(t){this.$router.push({name:"Indetail",params:{id:t}})}}}),r=i,l=o(1001),c=(0,l.Z)(r,e,s,!1,null,"84737f6c",null),n=c.exports},1654:function(t,a,o){t.exports=o.p+"img/bea10bfe88465.f5373a6f.png"}}]);
//# sourceMappingURL=583.17cbc3c6.js.map